parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"f08c":[function(require,module,exports) {
var T={NONE:0,HORIZONTAL:1,VERTICAL:2,CIRC_BUTTON:3,RECT_BUTTON:4};module.exports=T;
},{}],"UASB":[function(require,module,exports) {
"use strict";var e=Object.prototype.hasOwnProperty,t="~";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,n,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,s||e,i),f=t?t+n:n;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),i.prototype.eventNames=function(){var n,r,o=[];if(0===this._eventsCount)return o;for(r in n=this._events)e.call(n,r)&&o.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(n)):o},i.prototype.listeners=function(e){var n=t?t+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},i.prototype.listenerCount=function(e){var n=t?t+e:e,r=this._events[n];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,n,r,o,s,i){var c=t?t+e:e;if(!this._events[c])return!1;var f,u,a=this._events[c],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,o),!0;case 5:return a.fn.call(a.context,n,r,o,s),!0;case 6:return a.fn.call(a.context,n,r,o,s,i),!0}for(u=1,f=new Array(l-1);u<l;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var v,h=a.length;for(u=0;u<h;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),l){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,r);break;case 4:a[u].fn.call(a[u].context,n,r,o);break;default:if(!f)for(v=1,f=new Array(l-1);v<l;v++)f[v-1]=arguments[v];a[u].fn.apply(a[u].context,f)}}return!0},i.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},i.prototype.removeListener=function(e,n,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!n)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==n||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var f=0,u=[],a=c.length;f<a;f++)(c[f].fn!==n||o&&!c[f].once||r&&c[f].context!==r)&&u.push(c[f]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},i.prototype.removeAllListeners=function(e){var r;return e?(r=t?t+e:e,this._events[r]&&s(this,r)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,"undefined"!=typeof module&&(module.exports=i);
},{}],"rYfP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Button=void 0;var t=i(require("./const")),e=i(require("eventemitter3"));function i(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function o(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?p(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(i){function s(e,i,r,o,a,c,y){var l;n(this,s),(l=h(this,u(s).call(this))).scene=e,l.upFrame=c,l.downFrame=y,l.sprite=l.scene.add.sprite(r,o,a,c),i===t.default.CIRC_BUTTON?l.hitArea=new Phaser.Geom.Circle(l.sprite.x,l.sprite.y,l.sprite.width/2):i===t.default.RECT_BUTTON&&(l.hitArea=new Phaser.Geom.Rectangle(l.sprite.x,l.sprite.y,l.sprite.width,l.sprite.height)),l.pointer=null,l.enabled=!0,l.isDown=!1,l.isUp=!0,l.timeDown=0,l.timeUp=0,l.name="",l.currentTime=0,l.repeatRate=0,l.key=null,l._timeNext=0,l._scale=1;var f=l.scene.sys.input;return f.on("pointerdown",l.checkDown,p(l)),f.on("pointerup",l.checkUp,p(l)),l}return a(s,e.default),o(s,[{key:"addKey",value:function(t){var e=this.scene.sys.input;return e.keyboard&&(this.key&&(this.key.off("down",this.keyDown,this),this.key.off("up",this.keyUp,this),e.keyboard.removeKey(this.key),this.key=null),this.key=e.keyboard.addKey(t),this.key.on("down",this.keyDown,this),this.key.on("up",this.keyUp,this)),this.key}},{key:"keyDown",value:function(){this.isDown||(this.sprite.setFrame(this.downFrame),this.isDown=!0,this.isUp=!1,this.timeDown=this.key.timeDown,this.timeUp=0,this.emit("down",this,this.key))}},{key:"keyUp",value:function(){this.isDown&&(this.sprite.setFrame(this.upFrame),this.isDown=!1,this.isUp=!0,this.timeUp=this.key.timeUp,this.emit("up",this,this.key,this.duration))}},{key:"checkDown",value:function(t){this.enabled&&this.isUp&&this.hitArea.contains(t.worldX,t.worldY)&&(this.pointer=t,this.sprite.setFrame(this.downFrame),this.isDown=!0,this.isUp=!1,this.timeDown=t.time,this.timeUp=0,this.emit("down",this,t))}},{key:"checkUp",value:function(t){t===this.pointer&&(this.pointer=null,this.sprite.setFrame(this.upFrame),this.isDown=!1,this.isUp=!0,this.timeUp=t.time,this.emit("up",this,t,this.duration))}},{key:"update",value:function(t){this.currentTime=t,this.repeatRate>0&&this.isDown&&t>=this._timeNext&&(this.emit("down",this,this.pointer),this._timeNext=t+this.repeatRate)}},{key:"alignBottomLeft",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.sprite.width/2+t,i=this.sprite.height/2+t;return this.posX=e,this.posY=this.scene.sys.scale.height-i,this}},{key:"alignBottomRight",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.sprite.width/2+t,i=this.sprite.height/2+t;return this.posX=this.scene.sys.scale.width-e,this.posY=this.scene.sys.scale.height-i,this}},{key:"setRepeatRate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.repeatRate=t,this}},{key:"setName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.name=t,this}},{key:"destroy",value:function(){var t=this.scene.sys.input;t.off("pointerdown",this.checkDown,this),t.off("pointerup",this.checkUp,this),this.sprite.destroy(),this.key&&(this.key.off("down",this.keyDown,this),this.key.off("up",this.keyUp,this),t.keyboard.removeKey(this.key),this.key.destroy(),this.key=null),this.removeAllListeners(),this.hitArea=null,this.pointer=null,this.scene=null}},{key:"posX",get:function(){return this.sprite.x},set:function(t){this.sprite.x=t,this.hitArea.x=t}},{key:"posY",get:function(){return this.sprite.y},set:function(t){this.sprite.y=t,this.hitArea.y=t}},{key:"alpha",get:function(){return this.sprite.alpha},set:function(t){this.sprite.alpha=t}},{key:"visible",get:function(){return this.sprite.visible},set:function(t){this.sprite.visible=t}},{key:"scale",get:function(){return this._scale},set:function(t){this.sprite.setScale(t),this.hitArea.setTo(this.sprite.x,this.sprite.y,this.sprite.width),this._scale=t}},{key:"duration",get:function(){return this.isUp?this.timeUp-this.timeDown:this.currentTime-this.timeDown}}]),s}();exports.Button=y,module.exports=y;
},{"./const":"f08c","eventemitter3":"UASB"}],"ExWd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseStick=void 0;var t=s(require("./const")),i=s(require("eventemitter3")),e=require("./VirtualJoystickPlugin");function s(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function r(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function h(t,i,e){return i&&r(t.prototype,i),e&&r(t,e),t}function a(t,i){return!i||"object"!==n(i)&&"function"!=typeof i?u(t):i}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&p(t,i)}function p(t,i){return(p=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}var f=function(e){function s(i,e,n,r){var h;o(this,s),(h=a(this,c(s).call(this))).scene=i,h.position=new Phaser.Math.Vector2(e,n),h.line=new Phaser.Geom.Line(e,n,e,n),h.baseHitArea=new Phaser.Geom.Circle(e,n,r/2),h.stickHitArea=new Phaser.Geom.Circle(e,n,r/2),h.baseSprite=null,h.stickSprite=null,h.limitPoint=new Phaser.Math.Vector2,h.pointer=null,h.enabled=!0,h.isDown=!1,h.isUp=!0,h.timeDown=0,h.timeUp=0,h.angle=0,h.angleFull=0,h.direction=Phaser.NONE,h.quadrant=0,h.octant=0,h.motionLock=t.default.NONE,h._distance=r,h._deadZone=.1*r,h._scale=1,h._tracking=!1,h._showOnTouch=!1;var l=h.scene.sys.input;return l.on("pointerdown",h.checkDown,u(h)),l.on("pointerup",h.checkUp,u(h)),l.on("pointerupoutside",h.checkUp,u(h)),l.on("pointermove",h.moveStick,u(h)),h}return l(s,i.default),h(s,[{key:"checkDown",value:function(i){var e=i.worldX,s=i.worldY,n=this.line;this.enabled&&this.isUp&&(this.pointer=i,this.motionLock===t.default.NONE?(n.x2=e,n.y2=s):this.motionLock===t.default.HORIZONTAL?n.x2=e:this.motionLock===t.default.VERTICAL&&(n.y2=s),this._showOnTouch?(n.x1=e,n.y1=s,this.posX=e,this.posY=s,this.visible=!0,this.setDown(),this.moveStick(i)):this.stickHitArea.contains(e,s)&&(Phaser.Geom.Line.Length(n)<=this.deadZone?this._tracking=!0:(this.setDown(),this.moveStick(i))))}},{key:"checkUp",value:function(t){if(t===this.pointer){this.pointer=null,this.stickHitArea.setPosition(this.position.x,this.position.y),this.stickSprite&&this.stickSprite.setPosition(this.position.x,this.position.y);var i=this.line;i.x2=i.x1,i.y2=i.y1,this.isDown=!1,this.isUp=!0,this.direction=Phaser.NONE,this.timeUp=t.time,this.emit("up",this,t),this._showOnTouch&&(this.visible=!1)}}},{key:"setDown",value:function(){this.isDown=!0,this.isUp=!1,this.timeDown=this.pointer.time,this.timeUp=0,this._tracking=!1,this.checkArea(),this.emit("down",this,this.pointer)}},{key:"checkArea",value:function(){this.angle=Phaser.Math.RadToDeg(Phaser.Geom.Line.Angle(this.line));var t=this.angle,i=1;t<0&&(t+=360),t>=45&&t<135?(i=1,this.direction=Phaser.DOWN):t>=135&&t<225?(i=2,this.direction=Phaser.LEFT):t>=225&&t<315?(i=3,this.direction=Phaser.UP):(i=0,this.direction=Phaser.RIGHT),this.angleFull=t,this.quadrant=i,this.octant=45*Math.round(t/45)}},{key:"moveStick",value:function(i){var e=i.worldX,s=i.worldY;if(this.pointer&&(this.isDown||this._tracking)){var n=this.line;this.motionLock===t.default.NONE?(n.x2=e,n.y2=s):this.motionLock===t.default.HORIZONTAL?n.x2=e:this.motionLock===t.default.VERTICAL&&(n.y2=s),this.checkArea();var o=Phaser.Geom.Line.Length(n),r=Phaser.Geom.Line.Angle(n);if(this.isDown||!(o<=this.deadZone)){if(this._tracking&&this.setDown(),o<this.baseHitArea.radius)this.motionLock===t.default.NONE?this.stickHitArea.setPosition(e,s):this.motionLock===t.default.HORIZONTAL?this.stickHitArea.x=e:this.motionLock===t.default.VERTICAL&&(this.stickHitArea.y=s);else{var h=this.limitPoint;Phaser.Geom.Circle.CircumferencePoint(this.baseHitArea,r,h),this.motionLock===t.default.NONE?this.stickHitArea.setPosition(h.x,h.y):this.motionLock===t.default.HORIZONTAL?this.stickHitArea.x=h.x:this.motionLock===t.default.VERTICAL&&(this.stickHitArea.y=h.y)}this.stickSprite&&this.stickSprite.setPosition(this.stickHitArea.x,this.stickHitArea.y),this.emit("move",this,this.force,this.forceX,this.forceY)}}}},{key:"update",value:function(){this._tracking||this.emit("update",this,this.force,this.forceX,this.forceY)}},{key:"alignBottomLeft",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.baseSprite){var i=this.baseSprite.displayWidth/2+t,e=this.baseSprite.displayHeight/2+t;this.posX=i,this.posY=this.scene.scale.height-e}return this}},{key:"alignBottomRight",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.baseSprite){var i=this.baseSprite.displayWidth/2+t,e=this.baseSprite.displayHeight/2+t;this.posX=this.scene.scale.width-i,this.posY=this.scene.scale.height-e}return this}},{key:"destroy",value:function(){var t=this.scene.sys.input;t.off("pointerdown",this.checkDown,this),t.off("pointerup",this.checkUp,this),t.off("pointerupoutside",this.checkUp,this),t.off("pointermove",this.moveStick,this),this.removeAllListeners(),this.stickHitArea=null,this.baseHitArea=null,this.line=null,this.limitPoint=null,this.pointer=null,this.scene=null}},{key:"setMotionLock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.motionLock=t,this}},{key:"setDeadZone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.deadZone=t,this}},{key:"setScale",value:function(t){return this.scale=t,this}},{key:"setAlpha",value:function(t){return this.alpha=t,this}},{key:"setVisible",value:function(t){return this.visible=t,this}},{key:"debug",value:function(t,i){t&&(t.clear(),t.lineStyle(2,16711680),t.strokeCircleShape(this.baseHitArea),t.lineStyle(2,65280),t.strokeCircleShape(this.stickHitArea),t.lineStyle(2,16776960),t.strokeLineShape(this.line)),i&&i.setText(["Force: "+this.force.toFixed(2),"ForceX: "+this.forceX.toFixed(2),"ForceY: "+this.forceY.toFixed(2),"","Rotation: "+this.rotation.toFixed(2),"Angle: "+this.angle.toFixed(2),"","Distance: "+this.distance,"Quadrant: "+this.quadrant,"Octant: "+this.octant])}},{key:"rotation",get:function(){return Phaser.Geom.Line.Angle(this.line)}},{key:"x",get:function(){var t=Math.PI,i=Phaser.Math.TAU,e=Phaser.Geom.Line.Angle(this.line);return e>=0?e<=i?(i-e)/i:(t-e)/t*2-1:e>=-i?Math.abs(-i-e)/i:Math.abs(-t-e)/t*2-1}},{key:"y",get:function(){var t=Phaser.Math.TAU,i=Phaser.Geom.Line.Angle(this.line);return i>=0?1-Math.abs(t-i)/t:Math.abs(-t-i)/t-1}},{key:"posX",get:function(){return this.position.x},set:function(t){this.position.x=t,this.baseSprite&&(this.baseSprite.x=t),this.stickSprite&&(this.stickSprite.x=t),this.baseHitArea.x=t,this.stickHitArea.x=t,this.line.x1=t,this.line.x2=t}},{key:"posY",get:function(){return this.position.y},set:function(t){this.position.y=t,this.baseSprite&&(this.baseSprite.y=t),this.stickSprite&&(this.stickSprite.y=t),this.baseHitArea.y=t,this.stickHitArea.y=t,this.line.y1=t,this.line.y2=t}},{key:"force",get:function(){return Math.min(1,Phaser.Geom.Line.Length(this.line)/this.distance*2)}},{key:"forceX",get:function(){return this.force*this.x}},{key:"forceY",get:function(){return this.force*this.y}},{key:"filterX",get:function(){if(0===this.x)return.5;var t=Math.abs(this.forceX)/2;return this.x<0?(.5-t).toFixed(2):(.5+t).toFixed(2)}},{key:"filterY",get:function(){if(0===this.y)return.5;var t=Math.abs(this.forceY)/2;return this.y<0?1-(.5-t).toFixed(2):1-(.5+t).toFixed(2)}},{key:"alpha",get:function(){return this.baseSprite.alpha},set:function(t){this.baseSprite&&this.baseSprite.setAlpha(t),this.stickSprite&&this.stickSprite.setAlpha(t)}},{key:"visible",get:function(){return!!this.stickSprite&&this.stickSprite.visible},set:function(t){this.baseSprite&&this.baseSprite.setVisible(t),this.stickSprite&&this.stickSprite.setVisible(t)}},{key:"distance",get:function(){return this._distance*this._scale},set:function(t){this._distance=t}},{key:"deadZone",get:function(){return this._deadZone*this._scale},set:function(t){this._deadZone=t}},{key:"scale",get:function(){return this._scale},set:function(t){this.baseSprite&&this.baseSprite.setScale(t),this.stickSprite&&this.stickSprite.setScale(t),this.baseHitArea.setTo(this.position.x,this.position.y,this.distance*t/2);var i=this.stickSprite?this.stickSprite.displayWidth:this.distance*t/2;this.stickHitArea.setTo(this.position.x,this.position.y,i),this._scale=t}},{key:"showOnTouch",get:function(){return this._showOnTouch},set:function(t){this._showOnTouch=t,this._showOnTouch&&this.visible&&(this.visible=!1)}}]),s}();exports.BaseStick=f,module.exports=f;
},{"./const":"f08c","eventemitter3":"UASB","./VirtualJoystickPlugin":"V2P2"}],"zKIU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DPad=void 0;var t=i(require("./BaseStick")),e=i(require("./const"));function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var r=c(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(i):n.value}})(t,e,i||t)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(i){function r(t,e,i,o,s){var u,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"neutral",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"up",f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"down",p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"left",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"right";return n(this,r),(u=a(this,l(r).call(this,t,e,i,o))).neutralFrame=h,u.upFrame=c,u.downFrame=f,u.leftFrame=p,u.rightFrame=d,u.baseSprite=u.scene.add.sprite(e,i,s,h),o||(o=u.baseSprite.displayWidth,u.baseHitArea.radius=o/2,u.stickHitArea.radius=o/2),u.repeatRate=0,u._timeNext=0,u._directions=["","","","","none","moveup","movedown","moveleft","moveright"],u._lastDirection=0,u}return f(r,t.default),s(r,[{key:"checkUp",value:function(t){t===this.pointer&&(h(l(r.prototype),"checkUp",this).call(this,t),this.baseSprite.setFrame(this.neutralFrame),this._lastDirection=0)}},{key:"moveStick",value:function(t){if(t===this.pointer){var i=t.worldX,r=t.worldY;if(!this.pointer||!this.isDown&&!this._tracking)return this.direction=Phaser.NONE,void this.baseSprite.setFrame(this.neutralFrame);var n=this.line;n.x2=i,n.y2=r,this.checkArea();var o=Phaser.Geom.Line.Length(n),s=Phaser.Geom.Line.Angle(n);if(!this.isDown&&o<=this.deadZone)return this.direction=Phaser.NONE,void this.baseSprite.setFrame(this.neutralFrame);this._tracking&&this.setDown();var a=this.motionLock,u=this.stickHitArea,h=this.quadrant;if(o<this.baseHitArea.radius)a===e.default.NONE?u.setPosition(i,r):a===e.default.HORIZONTAL?u.x=i:a===e.default.VERTICAL&&(u.y=r);else{var c=this.limitPoint;Phaser.Geom.Circle.CircumferencePoint(this.baseHitArea,s,c),a===e.default.NONE?u.setPosition(c.x,c.y):a===e.default.HORIZONTAL?u.x=c.x:a===e.default.VERTICAL&&(u.y=c.y)}1===h?this.baseSprite.setFrame(this.downFrame):2===h?this.baseSprite.setFrame(this.leftFrame):3===h?this.baseSprite.setFrame(this.upFrame):this.baseSprite.setFrame(this.rightFrame),this.emit("move",this,this.x,this.y)}}},{key:"update",value:function(t){this._tracking||(this.emit("update",this,this.x,this.y),this.direction!==Phaser.NONE&&this.isDown&&(this.direction!==this._lastDirection||this.repeatRate>0&&t>=this._timeNext)&&(this.emit(this._directions[this.direction],this),this._timeNext=t+this.repeatRate,this._lastDirection=this.direction))}},{key:"setRepeatRate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.repeatRate=t,this}},{key:"destroy",value:function(){h(l(r.prototype),"destroy",this).call(this),this.baseSprite.destroy(),this.baseSprite=null}},{key:"debug",value:function(t,e){h(l(r.prototype),"debug",this).call(this,t),e&&e.setText(["X: "+this.x,"Y: "+this.y,"Direction: "+this._directions[this.direction].substr(4),"","Distance: "+this.distance,"Quadrant: "+this.quadrant,"Octant: "+this.octant])}},{key:"x",get:function(){return this.direction===Phaser.LEFT?-1:this.direction===Phaser.RIGHT?1:0}},{key:"y",get:function(){return this.direction===Phaser.UP?-1:this.direction===Phaser.DOWN?1:0}},{key:"force",get:function(){return this.isDown?1:0}},{key:"forceX",get:function(){return this.x}},{key:"forceY",get:function(){return this.y}}]),r}();exports.DPad=d,module.exports=d;
},{"./BaseStick":"ExWd","./const":"f08c"}],"hrBt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Stick=void 0;var t=e(require("./BaseStick"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e,r){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=f(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function f(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(e){function r(t,e,o,i,c){var s,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"base",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"stick";return n(this,r),(s=u(this,l(r).call(this,t,e,o,i))).baseFrame=f,s.stickFrame=a,s.baseSprite=s.scene.add.sprite(e,o,c,f),s.stickSprite=s.scene.add.sprite(e,o,c,a),s.stickHitArea.radius=s.stickSprite.width/2,s}return a(r,t.default),i(r,[{key:"destroy",value:function(){s(l(r.prototype),"destroy",this).call(this),this.stickSprite.destroy(),this.baseSprite.destroy(),this.stickSprite=null,this.baseSprite=null}}]),r}();exports.Stick=y,module.exports=y;
},{"./BaseStick":"ExWd"}],"CCUp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HiddenStick=void 0;var t=e(require("./BaseStick"));function e(t){return t&&t.__esModule?t:{default:t}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),t}function i(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=function(e){function o(t,e){var r;return n(this,o),(r=i(this,f(o).call(this,t,0,0,e)))._showOnTouch=!0,r}return l(o,t.default),u(o,[{key:"showOnTouch",set:function(t){}}]),o}();exports.HiddenStick=a,module.exports=a;
},{"./BaseStick":"ExWd"}],"V2P2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VirtualJoystick=void 0;var t=r(require("./const")),e=r(require("./Button")),i=r(require("./DPad")),s=r(require("./Stick")),n=r(require("./HiddenStick"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function u(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}var l=function(){function r(t,e){o(this,r),this.pluginManager=e,this.game=e.game,this.scene=t,this.systems=t.sys,this.sticks=null,this.buttons=null,this._pointerTotal=0,t.sys.events.once("boot",this.boot,this)}return u(r,[{key:"boot",value:function(){this.systems.events.once("destroy",this.destroy,this),this.systems.settings.active?this.start():this.systems.events.on("start",this.start,this)}},{key:"start",value:function(){this.sticks=new Set,this.buttons=new Set,this.systems.events.on("update",this.update,this),this.systems.events.once("shutdown",this.shutdown,this)}},{key:"addStick",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"base",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"stick",a=new s.default(this.scene,t,e,i,n,r,o);return this.sticks.add(a),this._pointerTotal++,this._pointerTotal>2&&this.scene.sys.input.addPointer(),a}},{key:"addHiddenStick",value:function(t){var e=new n.default(this.scene,t);return this.sticks.add(e),this._pointerTotal++,this._pointerTotal>2&&this.scene.sys.input.addPointer(),e}},{key:"addDPad",value:function(t,e,s,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"neutral",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"up",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"down",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"left",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"right",h=new i.default(this.scene,t,e,s,n,r,o,a,u,l);return this.sticks.add(h),this._pointerTotal++,this._pointerTotal>2&&this.scene.sys.input.addPointer(),h}},{key:"removeStick",value:function(t){this.sticks.remove(t),t.destroy(),this._pointerTotal--}},{key:"addButton",value:function(i,s,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t.default.CIRC_BUTTON,u=new e.default(this.scene,a,i,s,n,r,o);return this.buttons.add(u),this._pointerTotal++,this._pointerTotal>2&&this.scene.sys.input.addPointer(),u}},{key:"removeButton",value:function(t){if(Array.isArray(t)){var e=!0,i=!1,s=void 0;try{for(var n,r=t[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;this.buttons.remove(o),o.destroy(),this._pointerTotal--}}catch(a){i=!0,s=a}finally{try{e||null==r.return||r.return()}finally{if(i)throw s}}}else this.buttons.remove(t),t.destroy(),this._pointerTotal--}},{key:"update",value:function(t){var e=!0,i=!1,s=void 0;try{for(var n,r=this.sticks[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){n.value.update(t)}}catch(d){i=!0,s=d}finally{try{e||null==r.return||r.return()}finally{if(i)throw s}}var o=!0,a=!1,u=void 0;try{for(var l,h=this.buttons[Symbol.iterator]();!(o=(l=h.next()).done);o=!0){l.value.update(t)}}catch(d){a=!0,u=d}finally{try{o||null==h.return||h.return()}finally{if(a)throw u}}}},{key:"shutdown",value:function(){var t=this.systems.events;t.off("update",this.update,this),t.off("shutdown",this.shutdown,this)}},{key:"destroy",value:function(){this.shutdown();var t=!0,e=!1,i=void 0;try{for(var s,n=this.sticks[Symbol.iterator]();!(t=(s=n.next()).done);t=!0){s.value.destroy()}}catch(h){e=!0,i=h}finally{try{t||null==n.return||n.return()}finally{if(e)throw i}}var r=!0,o=!1,a=void 0;try{for(var u,l=this.buttons[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){u.value.destroy()}}catch(h){o=!0,a=h}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}this.sticks.clear(),this.buttons.clear(),this._pointerTotal=0}}]),r}();exports.VirtualJoystick=l,l.NONE=0,l.HORIZONTAL=1,l.VERTICAL=2,l.CIRC_BUTTON=3,l.RECT_BUTTON=4,module.exports=l;
},{"./const":"f08c","./Button":"rYfP","./DPad":"zKIU","./Stick":"hrBt","./HiddenStick":"CCUp"}]},{},["V2P2"], "VirtualJoystickPlugin")
//# sourceMappingURL=/VirtualJoystickPlugin.map